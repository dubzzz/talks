<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />

    <title>Property based testing : de la théorie à la pratique</title>

    <link rel="stylesheet" href="../shared-reveal-4/dist/reset.css" />
    <link rel="stylesheet" href="../shared-reveal-4/dist/reveal.css" />
    <link rel="stylesheet" href="./static/devoxx-theme.css" id="theme" />

    <!-- Theme used for syntax highlighted code -->
    <link rel="stylesheet" href="../shared-reveal-4/plugin/highlight/monokai.css" id="highlight-theme" />
    <link rel="stylesheet" href="./static/devoxx.css" />
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <aside class="notes"></aside>
          <div>
            <img src="./images/conf-logo.png" alt="Conference Logo" class="styleless-image" style="height: 128px" />
          </div>
          <h1 style="margin-top: 50px">Property based testing</h1>
          <h2 style="margin-bottom: 100px">De la théorie à la pratique</h2>
          <h3>Nicolas DUBIEN</h3>
          <div
            style="
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 0.8em;
              margin-top: -20px;
              opacity: 0.7;
            "
          >
            Software Engineer at
            <img src="./images/pigment-logofull-white.png" class="styleless-image" style="height: 50px" />
          </div>
        </section>
        <section>
          <h1>One day, it happened...</h1>
        </section>
        <section data-state="dog-video-show">
          <video controls width="100%" style="cursor: default" id="dog-video" autoplay loop>
            <source src="images/sideeffects.webm" type="video/webm" />
          </video>
        </section>
        <section class="unexpected-examples" data-fragment="-1">
          <aside class="notes">
            <p>Unexpected issues: You're not alone!</p>
          </aside>
          <style>
            section.present.unexpected-examples:not([data-fragment='-1']) img:not(.fragment),
            section.present.unexpected-examples img.fragment:not(.current-fragment) {
              display: none;
            }
          </style>
          <div style="min-height: 1200px">
            <img
              src="./images/mcdo.png"
              alt="McDo"
              style="background: none; border: none; box-shadow: none; margin-top: 175px"
            />
            <img
              class="fragment"
              src="./images/lockscreen-guardian.png"
              alt="Android issue with lockscreen"
              style="background: none; border: none; box-shadow: none; margin-top: 100px"
            />
          </div>
        </section>
        <section>
          <img src="images/test-pyramid.png" style="border: none; background: none; box-shadow: none" />
        </section>
        <section class="fullScreen">
          <aside class="notes"></aside>
          <style>
            #unit-test-snippet:before {
              content: ' ';
              display: block;
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              height: 100%;
              z-index: 1;
              opacity: 0.3;
              background-image: url('./images/test-pyramid-unit.png');
              background-repeat: no-repeat;
              background-position: right bottom;
              background-size: 40%;
            }
            #unit-test-snippet code[data-line-numbers='2,5,8,11,14,17,19'] tr.highlight-line div.hljs-ln-line {
              color: #545454;
            }
            #unit-test-snippet
              code[data-line-numbers='2,5,8,11,14,17,19']
              tr.highlight-line
              div.hljs-ln-line
              .hljs-string {
              color: rgb(166, 226, 46);
            }
            #unit-test-snippet
              code[data-line-numbers='2,5,8,11,14,17,19']
              tr.highlight-line
              div.hljs-ln-line
              .hljs-literal {
              color: #6a1e39;
            }
            #unit-test-snippet code[data-line-numbers='2,5,8,11,14,17,20'] tr.highlight-line div.hljs-ln-line {
              color: #545454;
            }
            #unit-test-snippet
              code[data-line-numbers='2,5,8,11,14,17,20']
              tr.highlight-line
              div.hljs-ln-line
              .hljs-string {
              color: #526a22;
            }
            #unit-test-snippet
              code[data-line-numbers='2,5,8,11,14,17,20']
              tr.highlight-line
              div.hljs-ln-line
              .hljs-literal {
              color: rgb(249, 38, 114);
            }
          </style>
          <pre
            id="unit-test-snippet"
          ><code class="hljs language-js" data-trim data-line-numbers="1-18|2,5,8,11,14,17|2,5,8,11,14,17,19|2,5,8,11,14,17,20">
it('should consider itself as a substring', () =&gt; {
  expect(isSubstring('a', 'a')).toBe(true);
});
it('should detect substring at the beginning', () =&gt; {
  expect(isSubstring('abcd', 'ab')).toBe(true);
});
it('should detect substring at the end', () =&gt; {
  expect(isSubstring('abcd', 'cd')).toBe(true);
});
it('should detect substring anywhere', () =&gt; {
  expect(isSubstring('abcd', 'bc')).toBe(true);
});
it('should not detect when no match', () =&gt; {
  expect(isSubstring('abcd', 'efgh')).toBe(false);
});
it('should not detect when not all letters match', () =&gt; {
  expect(isSubstring('abcd', 'abce')).toBe(false);
});
		      </code></pre>
        </section>
        <section class="fullScreen">
          <aside class="notes"></aside>
          <style>
            #e2e-test-snippet {
              min-height: 300px;
            }
            #e2e-test-snippet:before {
              content: ' ';
              display: block;
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              height: 100%;
              z-index: 1;
              opacity: 0.3;
              background-image: url('./images/test-pyramid-e2e.png');
              background-repeat: no-repeat;
              background-position: right bottom;
              background-size: 40%;
            }
          </style>
          <pre id="e2e-test-snippet"><code class="hljs language-js" data-trim data-line-numbers="1-5|2,4|3,5">
it('should impact title on search', async () =&gt; {
  await driver.get('https://www.google.com/ncr');
  await driver.findElement(By.name('q'))
    .sendKeys('webdriver', Key.RETURN);
  await driver.wait(until.titleIs('webdriver - Google Search'), 1000);
});
		      </code></pre>
        </section>
        <section>
          <h2>Are we sure to cover everything?</h2>
          <h3 class="fragment">Yes, all my users are happy</h3>
          <h3 class="fragment">Yes, I have 100% coverage</h3>
        </section>
        <section>
          <img src="images/coverage.jfif" />
          <p><em>100% coverage</em></p>
        </section>
        <section>
          <!--<h2>What did we miss? 🤯</h2>-->
          <h2>Where did we mess up? 🤯</h2>
        </section>
        <section>
          <aside class="notes"></aside>
          <div>
            <img src="./images/me.jpg" style="border-radius: 50%; height: 128px" />
          </div>
          <div>
            <h2>Nicolas DUBIEN</h2>
            <div style="margin-top: 36px; margin-bottom: 36px">
              <!-- Static logo -->
              <img src="./images/pigment-logofull-white.png" class="styleless-image" style="height: 100px" />
            </div>
            <div style="transform: scale(80%)">
              <div style="color: #ffffff; vertical-align: middle">
                <img src="./images/github-white.png" class="styleless-image" style="height: 32px" />
                dubzzz
              </div>
              <div style="color: #1da1f2; vertical-align: middle">
                <img src="./images/twitter.png" class="styleless-image" style="height: 32px" />
                ndubien
              </div>
              <div style="color: #cb3837; vertical-align: middle">
                <img src="./images/npm.png" class="styleless-image" style="height: 32px" />
                fast-check
              </div>
            </div>
          </div>
        </section>
        <section>
          <h2>Test structure</h2>
          <svg viewBox="0 0 828.25 137.5" width="828.25" height="137.5">
            <g class="fragment" data-fragment-index="3" stroke-linecap="round">
              <g transform="translate(241.25 78.25) rotate(0 174.76566901255399 1.4182337988168001)">
                <path
                  d="M-0.48 -0.72 C57.45 -0.02, 289.7 2.98, 347.8 3.56 M1.47 1.52 C59.76 1.97, 292.42 1.54, 350.01 1.99"
                  stroke="var(--custom-color3)"
                  stroke-width="4"
                  fill="none"
                ></path>
              </g>
              <g transform="translate(241.25 78.25) rotate(0 174.76566901255399 1.4182337988168001)">
                <path
                  d="M320.6 10.59 C332.54 8.03, 340.09 6.21, 349.08 2.54 M321.25 11.38 C331.94 7.39, 340.59 5.55, 349.19 1.14"
                  stroke="var(--custom-color3)"
                  stroke-width="4"
                  fill="none"
                ></path>
              </g>
              <g transform="translate(241.25 78.25) rotate(0 174.76566901255399 1.4182337988168001)">
                <path
                  d="M320.65 -9.93 C332.46 -6, 339.99 -1.33, 349.08 2.54 M321.3 -9.14 C332.17 -5.9, 340.79 -0.51, 349.19 1.14"
                  stroke="var(--custom-color3)"
                  stroke-width="4"
                  fill="none"
                ></path>
              </g>
            </g>
            <g transform="translate(342.5 10) rotate(0 68 23)">
              <text
                class="fragment"
                data-fragment-index="3"
                x="0"
                y="33"
                font-family="Virgil, Segoe UI Emoji"
                font-size="36px"
                fill="var(--custom-color3)"
                text-anchor="start"
                style="white-space: pre"
                direction="ltr"
              >
                Process
              </text>
            </g>
            <g transform="translate(10 35.5) rotate(0 102 46)">
              <text
                class="fragment"
                data-fragment-index="1"
                x="102"
                y="33"
                font-family="Virgil, Segoe UI Emoji"
                font-size="36px"
                fill="var(--custom-color2)"
                text-anchor="middle"
                style="white-space: pre"
                direction="ltr"
              >
                Inputs
              </text>
              <text
                class="fragment"
                data-fragment-index="4"
                x="102"
                y="79"
                font-family="Virgil, Segoe UI Emoji"
                font-size="36px"
                fill="var(--custom-color2)"
                text-anchor="middle"
                style="white-space: pre"
                direction="ltr"
              >
                (hardcoded)
              </text>
            </g>
            <g transform="translate(614.25 33.5) rotate(0 102 46)">
              <text
                class="fragment"
                data-fragment-index="2"
                x="102"
                y="33"
                font-family="Virgil, Segoe UI Emoji"
                font-size="36px"
                fill="var(--custom-color2)"
                text-anchor="middle"
                style="white-space: pre"
                direction="ltr"
              >
                Outputs
              </text>
              <text
                class="fragment"
                data-fragment-index="4"
                x="102"
                y="79"
                font-family="Virgil, Segoe UI Emoji"
                font-size="36px"
                fill="var(--custom-color2)"
                text-anchor="middle"
                style="white-space: pre"
                direction="ltr"
              >
                (hardcoded)
              </text>
            </g>
          </svg>
        </section>
        <section>
          <h2>Hardcoded? 🤔</h2>
          <h3 class="fragment">Limited scope of inputs covered</h3>
        </section>
        <section>
          <h2>Going random...</h2>
          <h3 class="fragment">But reproducible way</h3>
          <h3 class="fragment">Not deterministic</h3>
          <!-- we want to cover new cases at each run -->
        </section>
        <section>
          <h2>Wait a minute... 😓</h2>
          <h3 class="fragment">Random?</h3>
        </section>
        <section>
          <h2>What if the reported error is:</h2>
          <h3 class="fragment">"<em>.D0xjkFI{&lt;:nx#U3lI~</em>", "<em>j&gt;~&]&/'0Fw{?O</em>"</h3>
          <h3 class="fragment">[983 characters], [1302 characters]</h3>
        </section>
        <section>Have you ever heard about <em>Property based testing</em>?</section>
        <section>
          <h2><em>fast-check</em> to the rescue 🎯</h2>
          <p>
            <img style="border: none; background: none; box-shadow: none" src="images/fast-check-stats.png" />
          </p>
        </section>
        <section>
          <h2>Properties instead of isolated cases</h2>
        </section>
        <section>
          <p class="quote">
            for any <em>(x, y, ...)</em> <br /><span class="fragment" style="padding-left: 48px; color: #777872"
              >generate random inputs based on specified generators</span
            >
            <br />such that <em>precondition(x, y, ...)</em> holds <br /><span
              class="fragment"
              style="padding-left: 48px; color: #777872"
              >check preconditions - <em>failure?</em> go back to previous</span
            >
            <br /><em>predicate(x, y, ...)</em> is true <br /><span
              class="fragment"
              style="padding-left: 48px; color: #777872"
              >run the test - <em>failure?</em> shrink</span
            >
          </p>
          <p class="fragment custom-collapse" style="margin-top: 48px">
            <span>&#128257; Run it <em>100</em> times &#128257;</span>
          </p>
        </section>
        <section>
          <style>
            #git-diff-intro:before {
              content: ' ';
              display: block;
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              height: 200%;
              z-index: 1;
              opacity: 0.3;
              background-image: url('./images/test-pyramid-unit-int.png');
              background-repeat: no-repeat;
              background-position: right bottom;
              background-size: 40%;
            }
          </style>
          <h2>Example</h2>
          <p id="git-diff-intro">Let’s suppose we want to test “<em>git diff</em>”</p>
        </section>
        <section class="fullScreen gitDiffSimple">
          <style>
            section.gitDiffSimple code {
              overflow-x: hidden;
            }
            section.gitDiffSimple code td.hljs-ln-numbers {
              opacity: 0;
            }
            section.gitDiffSimple table {
              border-left: #313741 2px solid;
            }
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(1),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(25),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(1),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(25),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(1),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(25),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(2),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(19),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(20),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(21),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(22),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(23),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(24),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(2),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(19),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(20),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(21),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(22),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(23),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(24),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(2),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(19),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(20),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(21),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(22),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(23),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(24),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(27),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(28),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(29),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(30),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(31),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(32),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(33),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(34),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(35),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(36),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(37),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(38),
            section.gitDiffSimple code[data-line-numbers='2-24,26'] tr:nth-child(39),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(27),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(28),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(29),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(30),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(31),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(32),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(33),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(34),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(35),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(36),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(37),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(38),
            section.gitDiffSimple code[data-line-numbers='5-7,10-12,20-23'] tr:nth-child(39),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(27),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(28),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(29),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(30),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(31),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(32),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(33),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(34),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(35),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(36),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(37),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(38),
            section.gitDiffSimple code[data-line-numbers='10-12,20,22,23'] tr:nth-child(39),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(27),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(28),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(29),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(30),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(31),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(32),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(33),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(34),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(35),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(36),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(37),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(38),
            section.gitDiffSimple code[data-line-numbers='1,25'] tr:nth-child(39),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(27),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(28),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(29),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(30),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(31),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(32),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(33),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(34),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(35),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(36),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(37),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(38),
            section.gitDiffSimple code[data-line-numbers='4-13'] tr:nth-child(39),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(2),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(3),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(4),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(5),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(6),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(7),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(8),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(9),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(10),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(11),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(12),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(13),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(14),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(15),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(16),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(17),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(18),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(19),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(20),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(21),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(22),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(23),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(24),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(25),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(26),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(27),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(28),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(29),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(37),
            section.gitDiffSimple code[data-line-numbers='30,36'] tr:nth-child(38),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(2),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(3),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(4),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(5),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(6),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(7),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(8),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(9),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(10),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(11),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(12),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(13),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(14),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(15),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(16),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(17),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(18),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(19),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(20),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(21),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(22),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(23),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(24),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(25),
            section.gitDiffSimple code[data-line-numbers='27-29,37-38'] tr:nth-child(26),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(2),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(3),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(4),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(5),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(6),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(7),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(8),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(9),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(10),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(11),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(12),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(13),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(14),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(15),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(16),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(17),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(18),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(19),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(20),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(21),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(22),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(23),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(24),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(25),
            section.gitDiffSimple code[data-line-numbers='1-39'] tr:nth-child(26) {
              display: none;
            }
            section.gitDiffSimple code.visible[data-line-numbers='1,25'] tr:nth-child(1),
            section.gitDiffSimple code.visible[data-line-numbers='1,25'] tr:nth-child(25),
            section.gitDiffSimple code.visible[data-line-numbers='27-29,37-38'] tr:nth-child(27),
            section.gitDiffSimple code.visible[data-line-numbers='27-29,37-38'] tr:nth-child(28),
            section.gitDiffSimple code.visible[data-line-numbers='27-29,37-38'] tr:nth-child(29),
            section.gitDiffSimple code.visible[data-line-numbers='27-29,37-38'] tr:nth-child(37),
            section.gitDiffSimple code.visible[data-line-numbers='27-29,37-38'] tr:nth-child(38) {
              animation-fill-mode: forwards;
              animation-duration: 500ms;
              animation-name: show-code-line-1;
              animation-timing-function: ease-in-out;
            }
            @keyframes show-code-line-1 {
              from {
                transform: translateX(200%);
              }
              to {
                transform: translateX(0%);
              }
            }
            section.gitDiffSimple code.visible[data-line-numbers='30,36'] tr:nth-child(30),
            section.gitDiffSimple code.visible[data-line-numbers='30,36'] tr:nth-child(36) {
              animation-fill-mode: forwards;
              animation-duration: 500ms;
              animation-name: show-code-line-2;
              animation-timing-function: ease-in-out;
            }
            @keyframes show-code-line-2 {
              from {
                transform: translateX(200%);
              }
              to {
                transform: translateX(-7%);
              }
            }
            section.gitDiffSimple code.visible[data-line-numbers='30,36'] tr:nth-child(31),
            section.gitDiffSimple code.visible[data-line-numbers='30,36'] tr:nth-child(32),
            section.gitDiffSimple code.visible[data-line-numbers='30,36'] tr:nth-child(33),
            section.gitDiffSimple code.visible[data-line-numbers='30,36'] tr:nth-child(34),
            section.gitDiffSimple code.visible[data-line-numbers='30,36'] tr:nth-child(35) {
              animation-fill-mode: forwards;
              animation-duration: 500ms;
              animation-name: show-code-line-3;
              animation-timing-function: ease-in-out;
            }
            @keyframes show-code-line-3 {
              from {
                transform: translateX(-10.5%);
              }
              to {
                transform: translateX(-7%);
              }
            }
            section.gitDiffSimple code.visible[data-line-numbers='27-29,37-38'] tr:nth-child(30),
            section.gitDiffSimple code.visible[data-line-numbers='27-29,37-38'] tr:nth-child(31),
            section.gitDiffSimple code.visible[data-line-numbers='27-29,37-38'] tr:nth-child(32),
            section.gitDiffSimple code.visible[data-line-numbers='27-29,37-38'] tr:nth-child(33),
            section.gitDiffSimple code.visible[data-line-numbers='27-29,37-38'] tr:nth-child(34),
            section.gitDiffSimple code.visible[data-line-numbers='27-29,37-38'] tr:nth-child(35),
            section.gitDiffSimple code.visible[data-line-numbers='27-29,37-38'] tr:nth-child(36) {
              animation-fill-mode: forwards;
              animation-duration: 500ms;
              animation-name: show-code-line-4;
              animation-timing-function: ease-in-out;
            }
            @keyframes show-code-line-4 {
              from {
                transform: translateX(-7%);
              }
              to {
                transform: translateX(-0%);
              }
            }
          </style>
          <pre><code class="hljs language-js" data-trim data-line-numbers="2-24,26|5-7,10-12,20-23|10-12,20,22,23|1,25|4-13|30,36|27-29,37-38|1-39">
test('should build a diff compatible with text2', () =&gt; {
test('should compute the right diff', () =&gt; {
  // Arrange
  const text1 = trim`
    2019
    2021
    2021
  `;
  const text2 = trim`
    2019
    2020
    2021
  `;

  // Act
  const diff = computeDiff(text1, text2);

  // Assert
  expect(diff).toEqual(trim`
    === 2019
    --- 2021
    +++ 2020
    === 2021
  `);
  expect(extractText2FromDiff(diff)).toEqual(text2);
});
  fc.assert(
    fc.property(
      fc.string(), fc.string(),
      (text1, text2) => {
        // Arrange / Act
        const diff = computeDiff(text1, text2);

        // Assert
        expect(extractText2FromDiff(diff)).toEqual(text2);
      }
    )
  );
});
          </code></pre>
        </section>
        <section>
          <p class="quote">
            for any <em>(x, y, ...)</em> <br />such that <em>precondition(x, y, ...)</em> holds <br /><em
              >predicate(x, y, ...)</em
            >
            is true
          </p>
          <p class="quote-right fragment">
            for any <em>text1, text2 strings</em> <br /><em>computeDiff(text1, text2)</em> should be enough to build
            back <em>text2</em>
          </p>
        </section>
        <section>
          <p class="quote-right" style="margin-bottom: 48px">
            for any <em>text1, text2 strings</em> <br /><em>computeDiff(text1, text2)</em> should be enough to build
            back <em>text2</em>
          </p>
          <p>
            {text1: [&quot;<em>漢🐱</em>&quot;, &quot;<em>null</em>&quot;, &quot;<em>ba</em>&quot;], text2:
            [&quot;<em>漢🐱</em>&quot;, &quot;<em>ab</em>&quot;]}
            <span style="color: red">&#10007;</span>
          </p>
        </section>
        <section>
          <h2>Shrinking into action</h2>
          <p class="fragment">
            {text1: [&quot;<em>漢🐱</em>&quot;, &quot;<em>null</em>&quot;, &quot;<em>ba</em>&quot;], text2:
            [&quot;<em>漢🐱</em>&quot;, &quot;<em>ab</em>&quot;]}
            <span style="color: red">&#10007;</span>
          </p>
          <p class="fragment">
            {text1: [], text2: [&quot;<em>漢🐱</em>&quot;, &quot;<em>ab</em>&quot;]}
            <span style="color: green">&#10003;</span>
          </p>
          <p class="fragment">
            {text1: [&quot;<em>漢🐱</em>&quot;, &quot;<em>null</em>&quot;], text2: [&quot;<em>漢🐱</em>&quot;,
            &quot;<em>ab</em>&quot;]}
            <span style="color: green">&#10003;</span>
          </p>
          <p class="fragment">
            {text1: [&quot;<em>ba</em>&quot;], text2: [&quot;<em>漢🐱</em>&quot;, &quot;<em>ab</em>&quot;]}
            <span style="color: red">&#10007;</span>
          </p>
          <p class="fragment">
            {text1: [&quot;<em>ba</em>&quot;], text2: []}
            <span style="color: green">&#10003;</span>
          </p>
          <p class="fragment">
            {text1: [&quot;<em>ba</em>&quot;], text2: [&quot;<em>漢🐱</em>&quot;]}
            <span style="color: green">&#10003;</span>
          </p>
          <p class="fragment">
            {text1: [&quot;<em>ba</em>&quot;], text2: [&quot;<em>ab</em>&quot;]}
            <span style="color: red">&#10007;</span>
          </p>
          <p class="fragment">...</p>
        </section>
        <section>
          <h3>Back to our property…</h3>
          <p class="quote-right fragment">
            for any <em>text1, text2 strings</em> <br /><em>computeDiff(text1, text2)</em> should be enough to build
            back <em>text2</em>
          </p>
          <p class="fragment">Are we missing something? 🤨</p>
        </section>
        <section class="fullScreen">
          <div style="display: grid; grid-template-columns: 3fr 1fr; grid-gap: 16px">
            <pre><code class="hljs language-js" data-trim>
function computeDiff(text1, text2) {
  return [
    ...text1
      .split('\n')
      .map(line => `--- ${line}`),
    ...text2
      .split('\n')
      .map(line => `+++ ${line}`),
  ]
}
            </code></pre>
            <pre class="fragment"><code class="hljs language-plaintext" data-trim>
inputs:
text1:     text2:
  2019       2019
  2021       2020
  2021       2021

output:
  --- 2019
  --- 2021
  --- 2021
  +++ 2019
  +++ 2020
  +++ 2021
            </code></pre>
          </div>
          <p class="fragment">Pass the tests</p>
          <p class="fragment">Not really useful diff</p>
        </section>
        <section>
          <h3>Let's go further</h3>
        </section>
        <section class="fullScreen gitDiffHardThinking">
          <style>
            section.gitDiffHardThinking code {
              overflow-x: hidden;
            }
            section.gitDiffHardThinking code td.hljs-ln-numbers {
              opacity: 0;
            }
            section.gitDiffHardThinking table {
              border-left: #313741 2px solid;
            }
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(5),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(6),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(7),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(8),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(9),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(10),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(11),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(12),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(13),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(14),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(15),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(17),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(18),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(19),
            section.gitDiffHardThinking code[data-line-numbers='1-4,16'] tr:nth-child(20),
            section.gitDiffHardThinking code[data-line-numbers='7-11'] tr:nth-child(12),
            section.gitDiffHardThinking code[data-line-numbers='7-11'] tr:nth-child(13),
            section.gitDiffHardThinking code[data-line-numbers='7-11'] tr:nth-child(14),
            section.gitDiffHardThinking code[data-line-numbers='7-11'] tr:nth-child(15),
            section.gitDiffHardThinking code[data-line-numbers='7-11'] tr:nth-child(16),
            section.gitDiffHardThinking code[data-line-numbers='7-11'] tr:nth-child(17),
            section.gitDiffHardThinking code[data-line-numbers='7-11'] tr:nth-child(18),
            section.gitDiffHardThinking code[data-line-numbers='7-11'] tr:nth-child(19),
            section.gitDiffHardThinking code[data-line-numbers='7-11'] tr:nth-child(20),
            section.gitDiffHardThinking code[data-line-numbers='7,12-15'] tr:nth-child(8),
            section.gitDiffHardThinking code[data-line-numbers='7,12-15'] tr:nth-child(9),
            section.gitDiffHardThinking code[data-line-numbers='7,12-15'] tr:nth-child(10),
            section.gitDiffHardThinking code[data-line-numbers='7,12-15'] tr:nth-child(11),
            section.gitDiffHardThinking code[data-line-numbers='7,12-15'] tr:nth-child(16),
            section.gitDiffHardThinking code[data-line-numbers='7,12-15'] tr:nth-child(17),
            section.gitDiffHardThinking code[data-line-numbers='7,12-15'] tr:nth-child(18),
            section.gitDiffHardThinking code[data-line-numbers='7,12-15'] tr:nth-child(19),
            section.gitDiffHardThinking code[data-line-numbers='7,12-15'] tr:nth-child(20),
            section.gitDiffHardThinking code[data-line-numbers='7,17-20'] tr:nth-child(8),
            section.gitDiffHardThinking code[data-line-numbers='7,17-20'] tr:nth-child(9),
            section.gitDiffHardThinking code[data-line-numbers='7,17-20'] tr:nth-child(10),
            section.gitDiffHardThinking code[data-line-numbers='7,17-20'] tr:nth-child(11),
            section.gitDiffHardThinking code[data-line-numbers='7,17-20'] tr:nth-child(12),
            section.gitDiffHardThinking code[data-line-numbers='7,17-20'] tr:nth-child(13),
            section.gitDiffHardThinking code[data-line-numbers='7,17-20'] tr:nth-child(14),
            section.gitDiffHardThinking code[data-line-numbers='7,17-20'] tr:nth-child(15),
            section.gitDiffHardThinking code[data-line-numbers='7,17-20'] tr:nth-child(16) {
              display: none;
            }
          </style>
          <pre><code class="hljs language-plaintext" data-trim data-line-numbers="1-4,16|7-11|7,12-15|7,17-20">
inputs:
  text1:     text2:
    2019       2019
    2021       2020
    2021       2021

output:
  === 2019
  --- 2021
  +++ 2020
  === 2021
  === 2019     === 2019
  --- 2021     +++ 2020
  +++ 2020     --- 2021
  === 2021     === 2021
    2021       2021
  === 2019     === 2019     === 2019
  --- 2021     +++ 2020     +++ 2020
  +++ 2020     --- 2021     === 2021
  === 2021     === 2021     --- 2021
          </code></pre>
        </section>
        <section class="fullScreen gitDiffHard">
          <style>
            section.gitDiffHard code {
              overflow-x: hidden;
            }
            section.gitDiffHard code td.hljs-ln-numbers {
              opacity: 0;
            }
            section.gitDiffHard table {
              border-left: #313741 2px solid;
            }
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr,
            section.gitDiffHard code[data-line-numbers='14-19'] tr {
              transform: translateX(-9%);
            }
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(1),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(32),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(1),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(32) {
              transform: translateX(0%);
            }
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(2),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(3),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(4),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(5),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(6),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(7),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(8),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(9),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(10),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(11),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(12),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(29),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(30),
            section.gitDiffHard code[data-line-numbers='1,13-28,32'] tr:nth-child(31),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(2),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(3),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(4),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(5),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(6),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(7),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(8),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(9),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(10),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(11),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(12),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(29),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(30),
            section.gitDiffHard code[data-line-numbers='14-19'] tr:nth-child(31),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(2),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(3),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(4),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(5),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(6),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(7),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(8),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(9),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(10),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(11),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(30),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(31),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(14),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(15),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(16),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(17),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(18),
            section.gitDiffHard code[data-line-numbers='12,29'] tr:nth-child(19),
            section.gitDiffHard code[data-line-numbers='2-4,30,31'] tr:nth-child(5),
            section.gitDiffHard code[data-line-numbers='2-4,30,31'] tr:nth-child(6),
            section.gitDiffHard code[data-line-numbers='2-4,30,31'] tr:nth-child(7),
            section.gitDiffHard code[data-line-numbers='2-4,30,31'] tr:nth-child(8),
            section.gitDiffHard code[data-line-numbers='2-4,30,31'] tr:nth-child(9),
            section.gitDiffHard code[data-line-numbers='2-4,30,31'] tr:nth-child(10),
            section.gitDiffHard code[data-line-numbers='2-4,30,31'] tr:nth-child(11),
            section.gitDiffHard code[data-line-numbers='2-4,30,31'] tr:nth-child(14),
            section.gitDiffHard code[data-line-numbers='2-4,30,31'] tr:nth-child(15),
            section.gitDiffHard code[data-line-numbers='2-4,30,31'] tr:nth-child(16),
            section.gitDiffHard code[data-line-numbers='2-4,30,31'] tr:nth-child(17),
            section.gitDiffHard code[data-line-numbers='2-4,30,31'] tr:nth-child(18),
            section.gitDiffHard code[data-line-numbers='2-4,30,31'] tr:nth-child(19),
            section.gitDiffHard code[data-line-numbers='5-11'] tr:nth-child(4),
            section.gitDiffHard code[data-line-numbers='5-11'] tr:nth-child(14),
            section.gitDiffHard code[data-line-numbers='5-11'] tr:nth-child(15),
            section.gitDiffHard code[data-line-numbers='5-11'] tr:nth-child(16),
            section.gitDiffHard code[data-line-numbers='5-11'] tr:nth-child(17),
            section.gitDiffHard code[data-line-numbers='5-11'] tr:nth-child(18),
            section.gitDiffHard code[data-line-numbers='5-11'] tr:nth-child(19),
            section.gitDiffHard code[data-line-numbers='1-32'] tr:nth-child(4),
            section.gitDiffHard code[data-line-numbers='1-32'] tr:nth-child(14),
            section.gitDiffHard code[data-line-numbers='1-32'] tr:nth-child(15),
            section.gitDiffHard code[data-line-numbers='1-32'] tr:nth-child(16),
            section.gitDiffHard code[data-line-numbers='1-32'] tr:nth-child(17),
            section.gitDiffHard code[data-line-numbers='1-32'] tr:nth-child(18),
            section.gitDiffHard code[data-line-numbers='1-32'] tr:nth-child(19) {
              display: none;
            }
            section.gitDiffHard code.visible[data-line-numbers='12,29'] tr:nth-child(12),
            section.gitDiffHard code.visible[data-line-numbers='12,29'] tr:nth-child(29) {
              animation-fill-mode: forwards;
              animation-duration: 500ms;
              animation-name: show-code-line-11;
              animation-timing-function: ease-in-out;
            }
            @keyframes show-code-line-11 {
              from {
                transform: translateX(200%);
              }
              to {
                transform: translateX(-6%);
              }
            }
            section.gitDiffHard code.visible[data-line-numbers='12,29'] tr:nth-child(13),
            section.gitDiffHard code.visible[data-line-numbers='12,29'] tr:nth-child(20),
            section.gitDiffHard code.visible[data-line-numbers='12,29'] tr:nth-child(21),
            section.gitDiffHard code.visible[data-line-numbers='12,29'] tr:nth-child(22),
            section.gitDiffHard code.visible[data-line-numbers='12,29'] tr:nth-child(23),
            section.gitDiffHard code.visible[data-line-numbers='12,29'] tr:nth-child(24),
            section.gitDiffHard code.visible[data-line-numbers='12,29'] tr:nth-child(25),
            section.gitDiffHard code.visible[data-line-numbers='12,29'] tr:nth-child(26),
            section.gitDiffHard code.visible[data-line-numbers='12,29'] tr:nth-child(27),
            section.gitDiffHard code.visible[data-line-numbers='12,29'] tr:nth-child(28) {
              animation-fill-mode: forwards;
              animation-duration: 500ms;
              animation-name: show-code-line-12;
              animation-timing-function: ease-in-out;
            }
            @keyframes show-code-line-12 {
              from {
                transform: translateX(-9%);
              }
              to {
                transform: translateX(-6%);
              }
            }
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(2),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(3),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(4),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(30),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(31),
            section.gitDiffHard code.visible[data-line-numbers='5-11'] tr:nth-child(5),
            section.gitDiffHard code.visible[data-line-numbers='5-11'] tr:nth-child(6),
            section.gitDiffHard code.visible[data-line-numbers='5-11'] tr:nth-child(7),
            section.gitDiffHard code.visible[data-line-numbers='5-11'] tr:nth-child(8),
            section.gitDiffHard code.visible[data-line-numbers='5-11'] tr:nth-child(9),
            section.gitDiffHard code.visible[data-line-numbers='5-11'] tr:nth-child(10),
            section.gitDiffHard code.visible[data-line-numbers='5-11'] tr:nth-child(11) {
              animation-fill-mode: forwards;
              animation-duration: 500ms;
              animation-name: show-code-line-13;
              animation-timing-function: ease-in-out;
            }
            @keyframes show-code-line-13 {
              from {
                transform: translateX(200%);
              }
              to {
                transform: translateX(0%);
              }
            }
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(12),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(29),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(13),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(20),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(21),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(22),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(23),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(24),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(25),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(26),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(27),
            section.gitDiffHard code.visible[data-line-numbers='2-4,30,31'] tr:nth-child(28) {
              animation-fill-mode: forwards;
              animation-duration: 500ms;
              animation-name: show-code-line-14;
              animation-timing-function: ease-in-out;
            }
            @keyframes show-code-line-14 {
              from {
                transform: translateX(-6%);
              }
              to {
                transform: translateX(0%);
              }
            }
          </style>
          <pre><code class="hljs language-js" data-trim data-line-numbers="1,13-28,32|14-19|12,29|2-4,30,31|5-11|1-32">
test('should compute the shortest diff', () =&gt; {
  fc.assert(
    fc.property(
      /* TODO: diff generator */,
      fc.array(
        fc.record({
          type: fc.constantFrom('===', '+++', '---'),
          line: fc.string(),
        })
      )
      .map(es => es.map(e => `${e.type} ${e.line}`).join('\n')),
      (candidateDiff) => {
        // Arrange
        const candidateDiff = trim`
          === 2019
          --- 2021
          +++ 2020
          === 2021
        `;
        const text1 = extractText1FromDiff(candidateDiff);
        const text2 = extractText2FromDiff(candidateDiff);

        // Act
        const diff = computeDiff(text1, text2);

        // Assert
        expect(diff.split('\n').length)
          .toBeLessThanOrEqual(candidateDiff.split('\n').length)
      }
    )
  )
});
          </code></pre>
        </section>
        <section>
          <p>Property based:</p>
          <p><em>Large</em> subset of all the possible inputs,<br /><em>Limited</em> coverage of the output</p>
          <p class="fragment" data-fragment-index="1" style="margin-top: 48px">Example based:</p>
          <p class="fragment" data-fragment-index="1">
            <em>Limited</em> subset of all the possible inputs,<br /><em>Accurate</em> coverage of the output
          </p>
        </section>
        <section>
          <h3>Is it applicable?</h3>
          <p class="fragment">
            Found bugs in: <em>Jest</em>, <em>Jasmine</em>, <em>React</em>, <em>js-yaml</em>,<br /><em>query-string</em
            >, <em>underscore.js</em>…
          </p>
        </section>
        <section>
          <h2>Going further?</h2>
          <div style="display: grid; grid-template-columns: 1fr 1fr; grid-column-gap: 48px" class="fragment">
            <img src="./images/property-based.gif" />
            <img src="./images/autocomplete-bug-screenshot.png" />
          </div>
        </section>
        <section data-background="#ffffff">
          <aside class="notes"></aside>
          <div style="width: 100%; height: 100%; display: grid">
            <div
              style="
                grid-row: 1;
                grid-column: 1;
                width: 100%;
                height: 100%;
                display: flex;
                justify-content: center;
                align-items: center;
                opacity: 0.2;
              "
            >
              <img src="./images/table.png" style="border: none; background: none; margin: 0px; box-shadow: none" />
            </div>
            <div
              style="
                grid-row: 1;
                grid-column: 1;
                width: 100%;
                height: 100%;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
              "
            >
              <p class="fragment">Cover the whole scope from unit to e2e</p>
              <p class="fragment">Document invariants of your algorithms</p>
              <p class="fragment">Not a replacement for example-based, another tool</p>
            </div>
          </div>
        </section>
        <section>
          <aside class="notes"></aside>
          <h2>Questions?</h2>
          <div style="margin-top: 36px; margin-bottom: 36px">
            <!-- Static logo -->
            <img src="./images/pigment-logofull-white.png" class="styleless-image" style="height: 100px" />
          </div>
          <div style="transform: scale(80%)">
            <div style="color: #ffffff; vertical-align: middle">
              <img src="./images/github-white.png" class="styleless-image" style="height: 32px" />
              dubzzz
            </div>
            <div style="color: #1da1f2; vertical-align: middle">
              <img src="./images/twitter.png" class="styleless-image" style="height: 32px" />
              ndubien
            </div>
            <div style="color: #cb3837; vertical-align: middle">
              <img src="./images/npm.png" class="styleless-image" style="height: 32px" />
              fast-check
            </div>
          </div>
          <div style="margin-top: 36px">
            Link to slides: <a href="https://bit.ly/3ANKnls" target="_blank">https://bit.ly/3ANKnls</a>
          </div>
        </section>
      </div>
    </div>

    <div
      style="
        display: grid;
        align-items: center;
        column-gap: 0.5rem;
        row-gap: 0.2rem;
        position: fixed;
        z-index: 9999;
        left: 1em;
        bottom: 1em;
        color: #ffffff;
        font-size: 2rem;
        font-family: 'Open Sans', sans-serif;
      "
    >
      <img
        src="./images/github-white.png"
        class="footer-github styleless-image"
        style="justify-self: center; grid-row: 1; grid-column: 1; height: 2rem; text-shadow: #0007 1px 1px 1px"
      />
      <div style="grid-row: 1; grid-column: 2; color: #ffffff; vertical-align: middle; text-shadow: #0007 1px 1px 1px">
        dubzzz
      </div>
      <img
        src="./images/twitter.png"
        class="styleless-image"
        style="justify-self: center; grid-row: 2; grid-column: 1; height: 2rem"
      />
      <div style="grid-row: 2; grid-column: 2; color: #1da1f2; vertical-align: middle">ndubien</div>
      <img
        src="./images/npm.png"
        class="styleless-image"
        style="justify-self: center; grid-row: 3; grid-column: 1; width: 2rem"
      />
      <div style="grid-row: 3; grid-column: 2; color: #cb3837; vertical-align: middle">fast-check</div>
    </div>

    <script src="../shared-reveal-4/dist/reveal.js"></script>
    <script src="../shared-reveal-4/plugin/notes/notes.js"></script>
    <script src="../shared-reveal-4/plugin/markdown/markdown.js"></script>
    <script src="../shared-reveal-4/plugin/highlight/highlight.js"></script>
    <script>
      // More info about initialization & config:
      // - https://revealjs.com/initialization/
      // - https://revealjs.com/config/
      Reveal.initialize({
        hash: true,
        slideNumber: true,
        fragmentInURL: true,
        totalTime: 25 * 60,

        // Learn about plugins: https://revealjs.com/plugins/
        plugins: [RevealMarkdown, RevealHighlight, RevealNotes],
      });
      Reveal.addEventListener('dog-video-show', () => {
        const dogVideo = document.getElementById('dog-video');
        dogVideo.currentTime = 0;
        dogVideo.play();
      });
      Reveal.on('slidechanged', (event) => {
        if (event.currentSlide.getAttribute('data-state') !== 'dog-video-show') {
          return;
        }
        const dogVideo = document.getElementById('dog-video');
        dogVideo.currentTime = 0;
        dogVideo.play();
      });
    </script>
  </body>
</html>
